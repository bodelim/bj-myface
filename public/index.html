<!DOCTYPE html>
<html>
    <head>

      <!--서버 점검상태 보여줄때-->
      <!--<meta http-equiv="refresh" content="0; url=http://bodle.kro.kr:4000/servercheck.html"></meta>-->

        <title>내 면상이 어떤 비제이와 닮았는지 알아보자 ! -상판때기</title>
        <link rel="stylesheet" href="./style.css" />
            <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://code.jquery.com/jquery-latest.js"></script>
        <script>let bjname = "감스트";</script>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    </head>
    <body>
      <body onload="init()"></body>

        <nav class="navbar navbar-expand-lg navbar-light bg-light navbar-distance">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">상판때기</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">메인화면</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">개발자정보</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      다른 재밌는 기능
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <li><a class="dropdown-item" href="#">비제이 닮음꼴</a></li>
                      <li><hr class="dropdown-divider"></li>
                      <li><a class="dropdown-item" href="#">논란 스트리머 닮음꼴</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <!--<a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>-->
                  </li>
                </ul>
                <form class="d-flex">
                  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                  <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
              </div>
            </div>
          </nav>

          <div class="info">Copyright(c) 2021 beomjun All rights reserved.</div>

<!-- Modal -->
<!--
<div class="modal-dialog modal-sm" id="imageModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">상판때기</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" onclick="modalHide()" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        인공지능이 판단한 당신의 얼굴은 
        <script>console.log(bjname)</script>
        
        <img src="" id="bjImageShow" class="bjImageShow">
      </div>
      </div>
    </div>
  </div>
</div>
-->

          <!--
          <div class="modal" tabindex="-1" id="join_popup">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">상판때기</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <p>Google Teachable Model을 불러옵니다.</p>
                </div>
                <dir>
                  -->
                <!--<input type="radio" name="chk_info" value="main">Teachable Model Main-->
                <!--
                <div class="modal-footer">
                  <button type="button" class="btn btn-primary" onclick="join_popup_choice_click() ; init()">확인</button>
                </div>
              </div>
            </div>
          </div>
        -->
          
<!--
        <div class="loading" tabindex="-1" id="loading_image" align="center" style="width:50%; height:50%; text-align:center; font-size:12pt; color:red; font-weight:bold; padding-top:100px;">
          <img src="loading.gif"><br>
          Loading ...
          </div>
-->

<!--
        <div>Teachable Machine Image Model</div>
        <button type="button" onclick="init()">학습모델적용</button>
		<button type="button" onclick="predict()">닮음체크</button>
-->
        <script
            class="jsbin"
            src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
        ></script>


        <div class="file-upload">
            <div class="image-upload-wrap">
                <input
                    class="file-upload-input"
                    type="file"
                    onchange="readURL(this);"
                    accept="image/*"
                />
                <img src="./imageRectangle.svg" class="imageRectangle">
                <img src="./imageBtn.svg" class="imageBtn">
            </div>
            <div class="file-upload-content">
              당신이 올린 얼굴
              <br>
                <img class="file-upload-image" id="face-image" src="#" alt="your image" />
                <br>
                <div id="bjImageShow-Title">사진과 닮은 비제이</div>
                <img src="" id="bjImageShow" class="bjImageShow">
                <div class="image-title-wrap">
                    <div id="label-container"></div>
                    <img id='scanLoading' src="./loading.gif" width="100px" height="100px" display='none'>
                    <button type="button" onclick="clearResult() ; removeUpload()" class="remove-image">
                      사진 다시고르기
                  </button>
                  <!--
                  <button type="button" class="scanBtn" id="scanBtn" onclick="loadingShow()">얼굴스캔!</button>
                  -->
                </div>
              </div>
              <!--<img id='scanLoading' src="./loading.gif" width="100px" height="100px" display='none'>-->
              
              <div class="discription">
                당신이 올린 얼굴을 인공지능이 스캔하여 유사한 비제이의 얼굴을 보여줍니다!
                <br>
                (얼굴 위주로 올린 사진이 정확합니다)
              </div>
              <br>
              <br>

              <!--카카오애드핏-->
              <ins class="kakao_ad_area" style="display:none;" 
 data-ad-unit    = "DAN-rlnpMEfNVG1BNjS1" 
 data-ad-width   = "320" 
 data-ad-height  = "100"></ins> 
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>

        </div>
        <div id="webcam-container"></div>
        

        <!--초기에 보여져선 안되는 div들-->
        <script>$('#scanLoading').hide();</script>
        <script>$('#imageModal').hide();</script>
        <script>$('#bjImageShow').hide();</script>
        <script>$('#bjImageShow-Title').hide;</script>

        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>

<script type="text/javascript">
const URL = 'https://teachablemachine.withgoogle.com/models/RVjyIl6cR/';

const _0x11df=['bind','removeClass','583831FPDkXP','.file-upload-input','외질혜','src','bj파이','334530zLjtiA','29xKJNJT','childNodes','probability','createElement','style','2uZBCDv','metadata.json','documentElement','#join_popup','setProperty','.file-upload-content','toFixed','신태일','clone','resize','#scanLoading','31bpdpKS','5265AtKVGJ','model.json','predict()호출','.jpg','김재원','#bjImageShow-Title','공혁준','.image-title','사슴이','div','getElementById','target','replaceWith','attr','name','--h','55207VSAjkG','#scanBtn','/showbj/','\x27짭\x27구','ready','className','.image-upload-wrap','label-container','predict','innerHeight','then','.file-upload-image','image-dropping','84945XIEujk','log','files','show','html','bjImageShow','369454XsokGN','addClass','BJ파이','#bjImageShow','감스트','onload','hide','face-image','372670exwMzS'];const _0x37307d=_0xa968;(function(_0xceaadc,_0xad0e3b){const _0x1e81af=_0xa968;while(!![]){try{const _0xb32b8e=parseInt(_0x1e81af(0x189))*-parseInt(_0x1e81af(0x178))+-parseInt(_0x1e81af(0x172))+-parseInt(_0x1e81af(0x177))+-parseInt(_0x1e81af(0x1b4))+-parseInt(_0x1e81af(0x199))+-parseInt(_0x1e81af(0x17d))*parseInt(_0x1e81af(0x1ac))+-parseInt(_0x1e81af(0x188))*-parseInt(_0x1e81af(0x1a6));if(_0xb32b8e===_0xad0e3b)break;else _0xceaadc['push'](_0xceaadc['shift']());}catch(_0x5256a0){_0xceaadc['push'](_0xceaadc['shift']());}}}(_0x11df,0x608c8));let model,webcam,labelContainer,maxPredictions;function _0xa968(_0x2c17b2,_0xe81f11){return _0xa968=function(_0x11df43,_0xa96884){_0x11df43=_0x11df43-0x170;let _0x4a7487=_0x11df[_0x11df43];return _0x4a7487;},_0xa968(_0x2c17b2,_0xe81f11);}async function init(){const _0x1ab0b8=_0xa968,_0x733d0c=URL+_0x1ab0b8(0x18a),_0x52a0b8=URL+_0x1ab0b8(0x17e);model=await tmImage['load'](_0x733d0c,_0x52a0b8),maxPredictions=model['getTotalClasses'](),labelContainer=document[_0x1ab0b8(0x193)](_0x1ab0b8(0x1a0));for(let _0x556d02=0x0;_0x556d02<maxPredictions;_0x556d02++){labelContainer['appendChild'](document[_0x1ab0b8(0x17b)]('div'));}}function loadingShow(){const _0x4f65bc=_0xa968;$('#scanLoading')[_0x4f65bc(0x1a9)]();}function loadingHide(){const _0x407639=_0xa968;$(_0x407639(0x187))[_0x407639(0x1b2)]();}var image=document[_0x37307d(0x193)](_0x37307d(0x1b3));async function predict(){const _0x512f6b=_0x37307d;console[_0x512f6b(0x1a7)]('1');const _0x593d36=await model[_0x512f6b(0x1a1)](image,![]);_0x593d36['sort']((_0x393cc6,_0x39b6dd)=>parseFloat(_0x39b6dd['probability'])-parseFloat(_0x393cc6[_0x512f6b(0x17a)])),console[_0x512f6b(0x1a7)](_0x593d36[0x0][_0x512f6b(0x19e)]);var _0x1fd613;switch(_0x593d36[0x0][_0x512f6b(0x19e)]){case'감스트':bjname=_0x512f6b(0x1b0);break;case'신태일':bjname=_0x512f6b(0x184);break;case'철구':bjname='철구';break;case _0x512f6b(0x19c):bjname='짭구';break;case _0x512f6b(0x191):bjname='사슴이';break;case'공혁준':bjname=_0x512f6b(0x18f);break;case _0x512f6b(0x1ae):bjname=_0x512f6b(0x176);break;case _0x512f6b(0x174):bjname=_0x512f6b(0x174);break;case'쯔양':bjname='쯔양';break;case'양팡':bjname='양팡';break;case _0x512f6b(0x18d):bjname=_0x512f6b(0x18d);break;default:}console[_0x512f6b(0x1a7)]('2');const _0x20f9b7=_0x593d36[0x0]['className']+':\x20'+_0x593d36[0x0][_0x512f6b(0x17a)][_0x512f6b(0x183)](0x2)*0x64+'%';labelContainer[_0x512f6b(0x179)][0x0]['innerHTML']=_0x20f9b7,console[_0x512f6b(0x1a7)]('3'),hideScanBtn(),$('#imageModal')['show']();var _0x373e47=_0x512f6b(0x19b)+bjname+_0x512f6b(0x18c);document[_0x512f6b(0x193)](_0x512f6b(0x1ab))[_0x512f6b(0x175)]=_0x373e47,$('#bjImageShow-Title')[_0x512f6b(0x1a9)](),$(_0x512f6b(0x1af))[_0x512f6b(0x1a9)](),loadingHide();}function clearResult(){$(function(){const _0x1d1da2=_0xa968;$('#label-container')['empty'](),$(_0x1d1da2(0x1af))['hide'](),$(_0x1d1da2(0x18e))[_0x1d1da2(0x1b2)]();for(let _0xb557c4=0x0;_0xb557c4<maxPredictions;_0xb557c4++){labelContainer['appendChild'](document[_0x1d1da2(0x17b)](_0x1d1da2(0x192)));}});}function hideScanBtn(){$(function(){const _0x5db78c=_0xa968;$('#scanBtn')[_0x5db78c(0x1b2)]();});}function showScanBtn(){$(function(){const _0x324ede=_0xa968;$(_0x324ede(0x19a))['show']();});}document[_0x37307d(0x17f)][_0x37307d(0x17c)][_0x37307d(0x181)](_0x37307d(0x198),window[_0x37307d(0x1a2)]+'px'),window['addEventListener'](_0x37307d(0x186),()=>{const _0x374e0e=_0x37307d;document[_0x374e0e(0x17f)][_0x374e0e(0x17c)][_0x374e0e(0x181)](_0x374e0e(0x198),window['innerHeight']+'px');}),jQuery(document)[_0x37307d(0x19d)](function(){const _0x30a2a7=_0x37307d;$(_0x30a2a7(0x180))[_0x30a2a7(0x1a9)]();});function modalHide(){const _0x235db3=_0x37307d;$('#imageModal')[_0x235db3(0x1b2)]();};function readURL(_0x322d66){const _0x46b817=_0x37307d;if(_0x322d66[_0x46b817(0x1a8)]&&_0x322d66[_0x46b817(0x1a8)][0x0]){var _0x4f912c=new FileReader();_0x4f912c[_0x46b817(0x1b1)]=function(_0x7c6589){const _0x4e51ec=_0x46b817;loadingShow(),$('.image-upload-wrap')[_0x4e51ec(0x1b2)](),$(_0x4e51ec(0x1a4))[_0x4e51ec(0x196)](_0x4e51ec(0x175),_0x7c6589[_0x4e51ec(0x194)]['result']),$(_0x4e51ec(0x182))[_0x4e51ec(0x1a9)](),$(_0x4e51ec(0x190))[_0x4e51ec(0x1aa)](_0x322d66[_0x4e51ec(0x1a8)][0x0][_0x4e51ec(0x197)]);},_0x4f912c['readAsDataURL'](_0x322d66['files'][0x0]),init()[_0x46b817(0x1a3)](()=>{const _0x200c32=_0x46b817;console['log'](_0x200c32(0x18b)),predict(),loadingHide();});}else removeUpload();}function removeUpload(){const _0x29dc2f=_0x37307d;showScanBtn(),$(_0x29dc2f(0x173))[_0x29dc2f(0x195)]($('.file-upload-input')[_0x29dc2f(0x185)]()),$('.file-upload-content')[_0x29dc2f(0x1b2)](),$('.image-upload-wrap')[_0x29dc2f(0x1a9)]();}$('.image-upload-wrap')['bind']('dragover',function(){const _0xa88910=_0x37307d;$('.image-upload-wrap')[_0xa88910(0x1ad)]('image-dropping');}),$(_0x37307d(0x19f))[_0x37307d(0x170)]('dragleave',function(){const _0xfceda=_0x37307d;$('.image-upload-wrap')[_0xfceda(0x171)](_0xfceda(0x1a5));});
</script>


    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
    </body>
	<!--
    Copyright (c) 2021 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR) Permission is
    hereby granted, free of charge, to any person obtaining a copy of this software and associated
    documentation files (the "Software"), to deal in the Software without restriction, including
    without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense,
    and/or sell copies of the Software, and to permit persons to whom the Software is furnished to
    do so, subject to the following conditions: The above copyright notice and this permission
    notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS
    PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
    THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO
    EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
    CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-->
</html>
